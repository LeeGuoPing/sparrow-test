<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE beans PUBLIC "-//sparrow Framework//DTD ioc Configuration//EN"
        "http://www.sparrowzoo.com/dtds/beanFactory.dtd">
<beans>
    <bean name="messageConverter" class="com.sparrow.rocketmq.impl.SparrowJsonMessageConverter">
        <property name="charset" value="UTF-8"/>
    </bean>
    <bean name="queueHandlerMappingContainer" class="com.sparrow.mq.DefaultQueueHandlerMappingContainer"/>

    <bean name="rocketMQMessageListener" class="com.sparrow.rocketmq.impl.SparrowRocketMQMessageListener">
        <property name="messageConverter" ref="messageConverter"/>
        <property name="queueHandlerMappingContainer" ref="queueHandlerMappingContainer"/>
    </bean>

    <bean name="mqConsumer" class="com.sparrow.rocketmq.impl.RocketMQConsumer">
        <property name="groupName" value="sparrow-consumer-group"/>
        <property name="topicConfig" value="sparrow-topic:sparrow"/>
        <property name="messageListener" ref="rocketMQMessageListener"/>
        <property name="nameServerAddress" value="127.0.0.1:9876"/>
    </bean>

    <bean name="helloHandler" class="com.sparrow.rocketmq.protocol.handler.HelloWorldHandler">
        <property name="queueHandlerMappingContainer" ref="queueHandlerMappingContainer"/>
    </bean>
</beans>